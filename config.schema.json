{
  "pluginAlias": "TryFi",
  "pluginType": "platform",
  "singular": true,
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Platform Name",
        "type": "string",
        "default": "TryFi",
        "required": true
      },
      "username": {
        "title": "TryFi Email",
        "type": "string",
        "required": true,
        "placeholder": "your@email.com"
      },
      "password": {
        "title": "TryFi Password",
        "type": "string",
        "required": true,
        "placeholder": "password"
      },
      "pollingInterval": {
        "title": "Polling Interval (seconds)",
        "type": "integer",
        "default": 60,
        "minimum": 30,
        "maximum": 300,
        "description": "How often to check for updates (30-300 seconds, default: 60)"
      },
      "escapeAlertType": {
        "title": "Escape Alert Type",
        "type": "string",
        "default": "leak",
        "oneOf": [
          {
            "title": "Leak Sensor (Critical Alert)",
            "enum": ["leak"]
          },
          {
            "title": "Motion Sensor (Standard Alert)",
            "enum": ["motion"]
          }
        ],
        "description": "How escape alerts appear in HomeKit"
      },
      "ignoredPets": {
        "title": "Ignored Pets",
        "type": "array",
        "items": {
          "type": "string",
          "title": "Pet Name"
        },
        "description": "List of pet names to ignore (will not create HomeKit accessories or poll for updates)"
      }
    }
  },
  "layout": [
    {
      "type": "flex",
      "flex-flow": "row wrap",
      "items": [
        "username",
        "password"
      ]
    },
    {
      "type": "flex",
      "flex-flow": "row wrap",
      "items": [
        "pollingInterval",
        "escapeAlertType"
      ]
    },
    {
      "key": "ignoredPets",
      "type": "array",
      "title": "Ignored Pets",
      "description": "Add pet names to exclude from HomeKit (e.g., 'Charlie')",
      "items": [
        {
          "type": "string",
          "placeholder": "Pet name"
        }
      ]
    }
  ]
}
